<?xml version="1.0" encoding="utf-8"?>
<knimeNode type="Manipulator" icon="rsnippet.png" xmlns="http://knime.org/node/v2.8" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://knime.org/node/v2.8 http://knime.org/node/v2.8.xsd">
	<name>R Snippet</name>
	<shortDescription>
	    Allows execution of R commands in a local R installation.
	</shortDescription>
	<fullDescription>
		<intro>
		Allows execution of an R script in a local R installation. The result of 
		this script is returned in the output table of this node. 
		<br /><br />
		More details about R:<br />
		<a href="http://www.r-project.org/">http://www.r-project.org/</a><br />
		<a href="http://cran.r-project.org/doc/contrib/Short-refcard.pdf">Short-refcard.pdf</a>
		</intro>
        <tab name="R Snippet">
          <option name ="R Script">
            <p>The R commands to run. The input table is accessible within R using 
            the data frame stored in <i>knime.in</i>, where as the data frame that
            should apear at the output is expected to be stored in <i>knime.out</i>.</p>
               
            <p>The node also allows to access and modify flow variables. You can access
            all flow variables at <i>knime.flow.in</i> and please add all new or
            modified flow variables to the list at <i>knime.flow.out.</i></p>
            
            <p><b>Examples</b></p>
			<p>Take the input column "d", add one and send it to the ouput:</p>
                     
	        <i>p &lt;- knime.in["d"] + 1</i><br/>
	        <i>knime.out &lt;- data.frame(p)</i>
	                    
            <p>Read the data from the file defined by the flow variable fname:</p>
            <i>data &lt;- read.table(knime.flow.in[["fname"]])</i>
            
            <p>Compute students t-test and store the p-value in the flow variable p.value:</p>
            <i>h &lt;- t.test(knime.in["d"])</i><br/>
			<i>knime.flow.out &lt;- list(p.value = h[["p.value"]])</i>
          </option>
          <option name="Column List">
            The list contains the column that are available in the input table.
            Double click any of the column names to insert the respective field
            in the expression editor. It will replace your current selection or
            simply insert at the current caret position.
          </option>
          <option name="Flow Variable List">
            The list contains the flow variables that are currently available at
            the node input. Double clicking any of the entries will insert the
            respective identifier at the current cursor position (replacing the
            selection, if any).
          </option>
        </tab>
        <tab name="Templates">
          <option name="Category - Title">
	          <p>A categorized list of R snippet templates. The apply button at the left 
	          will replace the R Script and guide you to the R Snippet tab.</p>
	          <p>Please use "Create Template..." button on the R Snippet tab to add the
	          current R script to the list of templates.</p>
          </option>
        </tab>
        
	</fullDescription>
	<interactiveView name="R Sandbox">
    	Evaluate the R script with input data. Try changes and optinally apply them to the node.
    </interactiveView>	
	<ports>
		<inPort name="Data Input" index="0">Data Input</inPort>
		<outPort name="Data Output" index="0">R Result Data</outPort>
	</ports>
	<views>
		<view index="0" name="R Std Output">
			The text sent to standard out during the execution of R executable 
			as well as the text of the .Rout file generated by R.
	    </view>
        <view index="1" name="R Error Output">
            The text sent to standard error during the execution of R executable 
            as well as the text of the .Rout file generated by R.
            (If it appears in gray, it's the output of a previously 
            failing run which is preserved for your trouble shooting.)
        </view>	            
	</views>

    
</knimeNode>