<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Time Zones</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for timezones {base}"><tr><td>timezones {base}</td><td align="right">R Documentation</td></tr></table>
<h2>Time Zones</h2>


<h3>Description</h3>

<p>
Information about time zones in <font face="Courier New,Courier" color="#666666"><b>R</b></font>.  <code>Sys.timezone</code> returns
the current time zone.
</p>


<h3>Usage</h3>

<pre>
Sys.timezone()
</pre>


<h3>Details</h3>

<p>
Time zones are a system-specific topic, but as from <font face="Courier New,Courier" color="#666666"><b>R</b></font> 2.7.0 almost
all <font face="Courier New,Courier" color="#666666"><b>R</b></font> platforms use the same underlying code, used by Linux, Mac OS
X, Solaris, AIX, FreeBSD, Sun Java &gt;= 1.4 and Tcl &gt;= 8.5, and supplied
with <font face="Courier New,Courier" color="#666666"><b>R</b></font> on Windows.
</p>
<p>
It is not in general possible to retrieve the system's own name(s) for
the current timezone, but <code>Sys.timezone</code> will retrieve the name
it uses for the current time (and the name may differ depending on
whether daylight saving time is in effect).
</p>
<p>
On most platforms it is  possible to set the time zone via the
environment variable <span class="env">TZ</span>: see the section on &lsquo;Time zone
names&rsquo; for suitable values.
</p>
<p>
Note that the principal difficulty with time zones is their individual
history: over the last 100 years places have changed their affiliation
between major time zones, have opted out of (or in to) DST in
various years or adopted rule changes late or not at all.  This often
involves tiny administative units in the US/Canada: Iowa had 23
different implementations of DST in the 1960's!
</p>
<p>
Time zones did not come into use until the second half of the
nineteenth century, and DST was first introduced in the early
twentieth century, most widely during the First World War (in 1916).
</p>


<h3>Value</h3>

<p>
<code>Sys.timezone</code> returns an OS-specific character string, possibly
an empty string.  Typically this is an abbreviation such as <code>"EST"</code>.</p>

<h3>Time zone names</h3>

<p>
Where OSes describe their valid time zones can be obscure.  The help
for the C function <code>tzset</code> can be helpful, but it
can also be inaccurate.  There is a cumbersome POSIX specification
(listed under environment variable <span class="env">TZ</span> at
<a href="http://www.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap08.html">http://www.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap08.html</a>),
which is often at least partially supported, but there usually are
other more user-friendly ways to specify timezones.
</p>
<p>
Many systems make use of a timezone database compiled by Arthur Olson,
in which the preferred way to refer to a time zone by a location
(typically of a city) e.g. <code>Europe/London</code>,
<code>America/Los_Angeles</code>, <code>Pacific/Easter</code>.  Some traditional
designations are also allowed such as <code>EST5EDT</code> or
<code>GB</code>.  (Beware that some of these designations may not be what you
think: in particular <code>EST</code> is a time zone used in Canada
<EM>without</EM> daylight savings time, and not <code>EST5EDT</code> nor
(Australian) Eastern Standard Time.)  The designation can also be an
optional colon prepended to the path to a file giving complied zone
information (and the examples above are all files in a system-specific
location).  See <a href="http://www.twinsun.com/tz/tz-link.htm">http://www.twinsun.com/tz/tz-link.htm</a> for more
details and references.
</p>
<p>
As from <font face="Courier New,Courier" color="#666666"><b>R</b></font> 2.7.0, <font face="Courier New,Courier" color="#666666"><b>R</b></font> under Windows uses the Olson database.  The
current version of the database will be given in file
&lsquo;<span class="file"><VAR>R_HOME</VAR>/share/zoneinfo/VERSION</span>&rsquo;.  Environment variable
<span class="env">TZDIR</span> can be used to point to a later &lsquo;<span class="file">zoneinfo</span>&rsquo; directory.
A file listing most known time zones can be found at
&lsquo;<span class="file"><VAR>R_HOME</VAR>/share/zoneinfo/zone.tab</span>&rsquo; (see &lsquo;Examples&rsquo;).
</p>
<p>
An attempt is made (once only per session) to map Windows' idea of
the current time zone to a location, following
<a href="http://unicode.org/cldr/data/diff/supplemental/windows_tzid.html">http://unicode.org/cldr/data/diff/supplemental/windows_tzid.html</a>.
If this is not successful, it can be overridden by setting the
<span class="env">TZ</span> environment variable.
</p>
<p>
Windows documents a specification of the form <code>GST-1GDT</code>: this is
interpreted as POSIX-like and hence the &lsquo;US rules&rsquo; for changing
to/from DST are applied (and are incorrect for Germany).  Versions of
<font face="Courier New,Courier" color="#666666"><b>R</b></font> prior to 2.7.0 used Windows' system functions and hence this form:
it is still accepted for backwards compatibility but was (and remains)
unreliable and now gives a warning.
</p>


<h3>Note</h3>

<p>
There is currently (2007/8) considerable disruption over changes to
the timings of the DST transitions, aimed at energy conservation.
These often have short notice and time zone databases may not be up to
date (even if the OS has been updated recently).
</p>
<p>
Note that except on Windows, the operation of time zones is an OS
service, and even on Windows a third-party database is used and can be
updated (see the section on &lsquo;Time zone names&rsquo;).  Incorrect
results will never be an <font face="Courier New,Courier" color="#666666"><b>R</b></font> issue, so please ensure that you have the
courtesy not to blame <font face="Courier New,Courier" color="#666666"><b>R</b></font> for them.
</p>


<h3>See Also</h3>

<p>
<code><a href="Sys.time.html">Sys.time</a></code>, <code><a href="as.POSIXlt.html">as.POSIXlt</a></code>.
</p>
<p>
<a href="http://en.wikipedia.org/wiki/Time_zone">http://en.wikipedia.org/wiki/Time_zone</a> and
<a href="http://www.twinsun.com/tz/tz-link.htm">http://www.twinsun.com/tz/tz-link.htm</a> for extensive sets of links.
</p>


<h3>Examples</h3>

<pre>
Sys.timezone()
</pre>



<hr><div align="center">[Package <em>base</em> version 2.7.2 <a href="00Index.html">Index]</a></div>

</body></html>
